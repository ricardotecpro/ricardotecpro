name: Profile Validation

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main

jobs:
    validate-profile:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v4

            - name: Validate README exists
              run: |
                  if [ ! -f README.md ]; then
                    echo "‚ùå README.md not found!"
                    exit 1
                  else
                    echo "‚úÖ README.md exists"
                  fi

            - name: Check README content
              run: |
                  # Verificar se o README n√£o est√° vazio
                  if [ ! -s README.md ]; then
                    echo "‚ùå README.md is empty!"
                    exit 1
                  else
                    echo "‚úÖ README.md has content"
                  fi

                  # Verificar se cont√©m informa√ß√µes b√°sicas
                  if ! grep -q "ricardotecpro" README.md; then
                    echo "‚ùå README.md doesn't contain profile information!"
                    exit 1
                  else
                    echo "‚úÖ Profile information found"
                  fi

            - name: Validate contact links
              run: |
                  echo "üîç Checking contact links format..."

                  # Verificar se os links de contato est√£o presentes
                  if ! grep -q "linkedin.com/in/ricardotecpro" README.md; then
                    echo "‚ö†Ô∏è  LinkedIn link needs review"
                  else
                    echo "‚úÖ LinkedIn link found"
                  fi

                  if ! grep -q "ricardotecpro@hotmail.com" README.md; then
                    echo "‚ö†Ô∏è  Email link needs review"
                  else
                    echo "‚úÖ Email link found"
                  fi

                  if ! grep -q "github.com/ricardotecpro" README.md; then
                    echo "‚úÖ GitHub profile implicitly present"
                  fi

            - name: Profile validation complete
              run: |
                  echo "üéâ Profile validation completed successfully!"
                  echo "üìä README.md is ready for GitHub profile display"
